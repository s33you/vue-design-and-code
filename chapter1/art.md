### 权衡的艺术

#### 命令式和声明式

实现一个功能， 点击弹窗 hello world

```javascript
//命令式
const ele = document.querySelector('#app')

ele.onclick = ()=>{
    alert("hello world")
}
```
```html
<!-- 声明式 -->
<div id="app" @click="()=>{ alert( 'hello world' )}">
```
从以上代码可以看到

命令式的方式更注重过程，体现了代码的 执行逻辑

而声明式的方式更注重结果， 框架或者程序帮我们封装了过程


#### 性能和代码可维护性的权衡

严格来说，声明式代码的 性能  不如 命令式代码 ，命令式代码 可以以最理想的 情况实现 逻辑

```javascript

ele.textContent ='hello world'
//没有一种方法可以比这个性能更好，至少在js代码层面
```
设直接修改的性能消耗为A, 声明式内部封装的程序执行消耗为B（对于 框架 来说，主要体现在找出差异的过程），需要量化 命令式 和 声明式 代码之间的区别，则：

命令式 = A
声明式 = B + A

#### 虚拟DOM 的性能究竟如何

前文提到 框架找出差异的过程会 有额外的性能消耗B,为了使声明式代码的 性能无限接近于  
命令式代码 ，则我们需要优化 B过程的性能消耗,虚拟DOM 于是应运而生。

理论上来说命令式代码的性能总是优于 声明式代码， 但是每个开发者水平不同，为了极致的性能优化
可能需要 耗费大量的精力去编码，我们将这种消耗设为C, 于是我们得到更严谨的公式

命令式 = A + C
声明式 = B + A

也就是说，只要权衡B和C 之间的成本， 就能找到最佳答案。

先来看一个特殊情况 ``document.innerHtml`` 的性能探讨

```javascript

const contents = new Array(10000).map((e,i)=>i)



```




